<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>webgl circles</title>
    <script src="GLOWCore.js"></script>
    <script src="WebGLCircleRenderer.js"></script>

    <style type="text/css">
     html,body { height: 100%; margin: 0; padding: 0; overflow: hidden; }
     #container { position: absolute; width: 100%; height: 100%; margin: 0px; padding: 0px; left: 0px; top: 0px; }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script type="text/javascript">

     function init() {
         var container = document.getElementById("container");

         var context = new GLOW.Context({
             width: container.offsetWidth,
             height: container.offsetHeight
         });
         if (null === context.GL) {
             alert("no WebGL");
             return;
         }

         container.appendChild(context.domElement);
         context.setupClear( { red: 1, green: 1, blue: 1, alpha: 1 } );
         context.GL.enable(context.GL.BLEND);
         context.GL.blendFunc(context.GL.SRC_ALPHA,
                              context.GL.ONE_MINUS_SRC_ALPHA);

         var colors = [];
         var xs = [];
         var ys = [];
         var theta=0;
         for(var radius=180.0; radius>1.0; radius-=2) {
             colors.push(radius/60.0, 0.3, 1-(radius/60.0));
             xs.push(200+radius*Math.cos(theta));
             ys.push(200+radius*Math.sin(theta));
             theta+=0.4;
         }

         var circleRenderer = new WebGLCircleRenderer(context, xs.length,
                                                      colors);

         circleRenderer.setPositions(xs, ys);

         context.cache.clear();
         context.clear();
         circleRenderer.draw();
     }

     init();
    </script>
  </body>
</html>
